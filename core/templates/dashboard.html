{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container my-4">

  <!-- 🔢 TARJETAS DE ESTADÍSTICAS -->
  <div class="row g-3 justify-content-center">
    {% if perms.core.add_venta %}
      <div class="col-6 col-sm-4 col-md-3">
        <div class="dashboard-card card-ventas text-center">
          <h5>Ventas Hoy</h5>
          <p>L {{ ventas_hoy }}</p>
        </div>
      </div>

      <div class="col-6 col-sm-4 col-md-3">
        <div class="dashboard-card card-compras text-center">
          <h5>Compras Hoy</h5>
          <p>L {{ compras_hoy }}</p>
        </div>
      </div>

      <div class="col-6 col-sm-4 col-md-3">
        <div class="dashboard-card card-productos text-center">
          <h5>Productos Vendidos Hoy</h5>
          <p>{{ productos_vendidos_hoy }}</p>
        </div>
      </div>

      <div class="col-6 col-sm-4 col-md-3">
        <div class="dashboard-card card-productos-compra text-center">
          <h5>Productos Comprados Hoy</h5>
          <p>{{ productos_comprados_hoy }}</p>
        </div>
      </div>
    {% endif %}

    {% if perms.core.add_venta and perms.core.delete_cai %}
      <div class="col-6 col-sm-4 col-md-3">
        <div class="dashboard-card card-simple text-center">
          <h5>Total Ventas</h5>
          <p>L {{ total_ventas }}</p>
        </div>
      </div>

      <div class="col-6 col-sm-4 col-md-3">
        <div class="dashboard-card card-simple text-center">
          <h5>Total Compras</h5>
          <p>L {{ total_compras }}</p>
        </div>
      </div>
    {% endif %}

    <div class="col-6 col-sm-4 col-md-3">
      <div class="dashboard-card card-simple text-center">
        <h5>Total Productos</h5>
        <p>{{ total_productos }}</p>
      </div>
    </div>

    <div class="col-6 col-sm-4 col-md-3">
      <div class="dashboard-card card-clientes text-center">
        <h5>Total Clientes</h5>
        <p>{{ total_clientes }}</p>
      </div>
    </div>

    <div class="col-6 col-sm-4 col-md-3">
      <div class="dashboard-card card-simple text-center">
        <h5>Total Proveedores</h5>
        <p>{{ total_proveedores }}</p>
      </div>
    </div>
  </div>

  <!-- ⚡ ACCESOS RÁPIDOS -->
  <div class="mt-5">
    <h4 class="text-center mb-3">⚡ Accesos Rápidos</h4>
    <div class="row g-2 justify-content-center text-center">
      {% if perms.core.view_venta %}
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'dashboard_graficos' %}" class="btn btn-primary w-100">📊 Gráficas</a>
        </div>
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'resumen_ventas' %}" class="btn btn-outline-light w-100">📋 Ver Ventas</a>
        </div>
      {% endif %}

      {% if perms.core.add_compra %}
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'crear_compra' %}" class="btn btn-primary w-100">📥 Nueva Compra</a>
        </div>
      {% endif %}

      {% if perms.core.view_compra %}
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'resumen_compras' %}" class="btn btn-outline-light w-100">📄 Ver Compras</a>
        </div>
      {% endif %}

      {% if perms.core.add_producto %}
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'agregar_producto' %}" class="btn btn-primary w-100">➕ Nuevo Producto</a>
        </div>
      {% endif %}

      {% if perms.core.view_cuentaporcobrar or perms.core.view_cuentaporpagar %}
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'resumen_cuentas' %}" class="btn btn-outline-light w-100">💸 Cobrar y Pagar</a>
        </div>
      {% endif %}

      {% if perms.core.add_cliente %}
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'crear_cliente' %}" class="btn btn-primary w-100">👤 Nuevo Cliente</a>
        </div>
      {% endif %}

      {% if perms.core.view_cliente %}
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'listar_clientes' %}" class="btn btn-outline-light w-100">👥 Ver Clientes</a>
        </div>
      {% endif %}

      {% if perms.core.add_proveedor %}
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'registrar_proveedor' %}" class="btn btn-primary w-100">🏭 Nuevo Proveedor</a>
        </div>
      {% endif %}

      {% if perms.core.view_proveedor %}
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'lista_proveedores' %}" class="btn btn-outline-light w-100">🏢 Ver Proveedores</a>
        </div>
      {% endif %}

      {% if perms.core.view_cai %}
        <div class="col-6 col-sm-4 col-md-3">
          <a href="{% url 'listar_cai' %}" class="btn btn-outline-light w-100">📋 Cais</a>
        </div>
      {% endif %}
    </div>
  </div>

  <!-- 📈 TENDENCIAS -->
  <div class="mt-5 text-center">
    <h4>📈 Tendencias</h4>
  </div>

</div>
{% endblock %}


